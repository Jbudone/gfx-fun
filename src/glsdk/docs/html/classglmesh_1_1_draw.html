<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Unofficial OpenGL Software Development Kit: glmesh::Draw Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.4 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Unofficial OpenGL Software Development Kit&#160;<span id="projectnumber">0.4.0</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="namespaceglmesh.html">glmesh</a>      </li>
      <li class="navelem"><a class="el" href="classglmesh_1_1_draw.html">Draw</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">glmesh::Draw Class Reference<div class="ingroups"><a class="el" href="group__module__glmesh__draw.html">GL Mesh Drawing</a></div></div>  </div>
</div>
<div class="contents">
<!-- doxytag: class="glmesh::Draw" -->
<p><code>#include &lt;<a class="el" href="_draw_8h_source.html">Draw.h</a>&gt;</code></p>

<p><a href="classglmesh_1_1_draw-members.html">List of all members.</a></p>
<hr/><a name="details" id="details"></a><h2> </h2>
<div class="textblock"><p>RAII-style class for immediate-mode type rendering through a <a class="el" href="classglmesh_1_1_vertex_format.html" title="Describes the layout for a sequence of vertex attributes, to be used for rendering.">VertexFormat</a> and <a class="el" href="classglmesh_1_1_stream_buffer.html" title="A class for streaming vertex data to buffer objects on the GPU.">StreamBuffer</a>. </p>
<p>The constructor of this class is given an OpenGL primitive type and the number of vertices to use. You must then call one of the Attrib member functions for each vertex and for each attribute in the <a class="el" href="classglmesh_1_1_vertex_format.html" title="Describes the layout for a sequence of vertex attributes, to be used for rendering.">VertexFormat</a>. The order of attributes within a vertex corresponds to the order of attributes in the <a class="el" href="classglmesh_1_1_vertex_format.html" title="Describes the layout for a sequence of vertex attributes, to be used for rendering.">VertexFormat</a>.</p>
<p>The Attrib specialization must match the type of the attribute from the <a class="el" href="classglmesh_1_1_vertex_format.html" title="Describes the layout for a sequence of vertex attributes, to be used for rendering.">VertexFormat</a> <em>exactly</em>. The number of components however does not have to match.</p>
<p>Successfully constructing an object of this type will affect the following OpenGL state (note: none of this state will be touched in the event of an exception):</p>
<ul>
<li>The current GL_ARRAY_BUFFER binding. </li>
<li>If VAOs are available, the current VAO will be affected. The current VAO after this object is destroyed will be VAO 0. The VAO used to render will be the one stored in the <a class="el" href="classglmesh_1_1_stream_buffer.html" title="A class for streaming vertex data to buffer objects on the GPU.">StreamBuffer</a>. </li>
<li>If VAOs are not available, the current attribute array state will be modified as <a class="el" href="classglmesh_1_1_vertex_format_1_1_enable.html" title="RAII-style class for binding a VertexFormat to the OpenGL context. The destructor unbinds it...">VertexFormat::Enable</a> does. Note that you should make sure that all attributes are disabled before* rendering with this immediate mode. Otherwise, badness can result.</li>
</ul>
<dl class="note"><dt><b>Note:</b></dt><dd>Do <em>not</em> attempt to change buffer binding state while an instance of this class is constructed. Also, do not attempt to create two of these objects at the same time.</dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000003">Todo:</a></b></dt><dd>The 1.0 for the fourth value doesn't work right with normalized values.</dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>This class cannot be copied. </dd></dl>
</div><table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classglmesh_1_1_draw.html#a01c8d3ff2861a281bc4000d89869f645">Draw</a> (GLenum primType, size_t vertexCount, const <a class="el" href="classglmesh_1_1_vertex_format.html">VertexFormat</a> &amp;fmt, <a class="el" href="classglmesh_1_1_stream_buffer.html">StreamBuffer</a> &amp;buffer)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a non-copyable object for drawing.  <a href="#a01c8d3ff2861a281bc4000d89869f645"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classglmesh_1_1_draw.html#af9114783860b587f4ac00fb84d280207">~Draw</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Draws, if the object has not been drawn previously with a call to <a class="el" href="classglmesh_1_1_draw.html#a473bcd5d403bb8af0449163f037ce538" title="Draws the vertex data provided, if the object has not previously been drawn.">Render()</a>.  <a href="#af9114783860b587f4ac00fb84d280207"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classglmesh_1_1_draw.html#a473bcd5d403bb8af0449163f037ce538">Render</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Draws the vertex data provided, if the object has not previously been drawn.  <a href="#a473bcd5d403bb8af0449163f037ce538"></a><br/></td></tr>
<tr><td colspan="2"><div class="groupHeader">Attribute Setting Functions</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>The Attrib functions set the value of the current attribute.</p>
<p>The Attrib series of functions are all templates based on certain types that the <a class="el" href="classglmesh_1_1_draw.html" title="RAII-style class for immediate-mode type rendering through a VertexFormat and StreamBuffer.">Draw</a> class accepts.</p>
<p>If you attempt to use the wrong type for the current attribute, an exception will be thrown. The types must match <em>exactly</em>; there is no narrowing or expansion of shorts into bytes or ints. Nor is there conversion from signed to unsigned types.</p>
<p>Though the types must match, the number of components do not have to exactly match. Per OpenGL standard conventions, if you provide more components for an attribute than a vertex format allows, the extras will be ignored. If you provide fewer, then rest will be filled in with zeros, except for fourth (if applicable), which will be 1.</p>
<p>If you get an unresolved external error for some form of Draw::Attrib, it is because you are not using the correct type. The valid types are, in the order defined in VertexDataType:</p>
<ul>
<li><code>glm::thalf</code> </li>
<li><code>GLfloat</code> </li>
<li><code>GLdouble</code> </li>
<li><code>GLbyte</code> </li>
<li><code>GLubyte</code> </li>
<li><code>GLshort</code> </li>
<li><code>GLushort</code> </li>
<li><code>GLint</code> </li>
<li><code>GLuint</code> </li>
</ul>
<p>There are vector versions of these functions. They will work with glm's vector types, but only for certain ones. The 3 floating-point types (glm::hvec, glm::vec, glm::dvec) will work. And if you specifically use glm::detail::vec#&lt;type&gt;, then you can use vector types directly. Otherwise, you should probably stick to the overloads that take a number of scalar values.</p>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classglmesh_1_1_too_many_vertices_sent_exception.html" title="Thrown when calling Attrib and you are writing more vertices than you promised.">TooManyVerticesSentException</a></td><td>If more vertices have been sent than were originally specified. </td></tr>
    <tr><td class="paramname"><a class="el" href="classglmesh_1_1_mismatch_draw_type_exception.html" title="Thrown when the type the Draw::Attrib functions are used with does not match the type of the attribut...">MismatchDrawTypeException</a></td><td>If the type you are using does not exactly match the type specified by the <a class="el" href="classglmesh_1_1_vertex_format.html" title="Describes the layout for a sequence of vertex attributes, to be used for rendering.">VertexFormat</a> for this attribute. </td></tr>
  </table>
  </dd>
</dl>
</div></td></tr>
<tr><td class="memTemplParams" colspan="2"><a class="anchor" id="aafa7933f6bb573f01355fa73abbe0026"></a><!-- doxytag: member="glmesh::Draw::Attrib" ref="aafa7933f6bb573f01355fa73abbe0026" args="(BaseType x)" -->
template&lt;typename BaseType &gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><b>Attrib</b> (BaseType x)</td></tr>
<tr><td class="memTemplParams" colspan="2"><a class="anchor" id="af3ecbe5da668418895a672f2771c6349"></a><!-- doxytag: member="glmesh::Draw::Attrib" ref="af3ecbe5da668418895a672f2771c6349" args="(BaseType x, BaseType y)" -->
template&lt;typename BaseType &gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><b>Attrib</b> (BaseType x, BaseType y)</td></tr>
<tr><td class="memTemplParams" colspan="2"><a class="anchor" id="a67de1e25fd810aad7e3716adf2d424f7"></a><!-- doxytag: member="glmesh::Draw::Attrib" ref="a67de1e25fd810aad7e3716adf2d424f7" args="(const glm::detail::tvec2&lt; BaseType &gt; &amp;val)" -->
template&lt;typename BaseType &gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><b>Attrib</b> (const glm::detail::tvec2&lt; BaseType &gt; &amp;val)</td></tr>
<tr><td class="memTemplParams" colspan="2"><a class="anchor" id="a3c1f17b6f49e7a7d0b54fd72ca3b8b4d"></a><!-- doxytag: member="glmesh::Draw::Attrib" ref="a3c1f17b6f49e7a7d0b54fd72ca3b8b4d" args="(BaseType x, BaseType y, BaseType z)" -->
template&lt;typename BaseType &gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><b>Attrib</b> (BaseType x, BaseType y, BaseType z)</td></tr>
<tr><td class="memTemplParams" colspan="2"><a class="anchor" id="a45b792b7abb46006cae94eaf90c99620"></a><!-- doxytag: member="glmesh::Draw::Attrib" ref="a45b792b7abb46006cae94eaf90c99620" args="(const glm::detail::tvec3&lt; BaseType &gt; &amp;val)" -->
template&lt;typename BaseType &gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><b>Attrib</b> (const glm::detail::tvec3&lt; BaseType &gt; &amp;val)</td></tr>
<tr><td class="memTemplParams" colspan="2"><a class="anchor" id="a0014875848d983386b9e3373d79ed6f7"></a><!-- doxytag: member="glmesh::Draw::Attrib" ref="a0014875848d983386b9e3373d79ed6f7" args="(BaseType x, BaseType y, BaseType z, BaseType w)" -->
template&lt;typename BaseType &gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><b>Attrib</b> (BaseType x, BaseType y, BaseType z, BaseType w)</td></tr>
<tr><td class="memTemplParams" colspan="2"><a class="anchor" id="a6901186ff228d43a4be793c6ea4e52b9"></a><!-- doxytag: member="glmesh::Draw::Attrib" ref="a6901186ff228d43a4be793c6ea4e52b9" args="(const glm::detail::tvec4&lt; BaseType &gt; &amp;val)" -->
template&lt;typename BaseType &gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><b>Attrib</b> (const glm::detail::tvec4&lt; BaseType &gt; &amp;val)</td></tr>
</table>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a01c8d3ff2861a281bc4000d89869f645"></a><!-- doxytag: member="glmesh::Draw::Draw" ref="a01c8d3ff2861a281bc4000d89869f645" args="(GLenum primType, size_t vertexCount, const VertexFormat &amp;fmt, StreamBuffer &amp;buffer)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">glmesh::Draw::Draw </td>
          <td>(</td>
          <td class="paramtype">GLenum&#160;</td>
          <td class="paramname"><em>primType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>vertexCount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classglmesh_1_1_vertex_format.html">VertexFormat</a> &amp;&#160;</td>
          <td class="paramname"><em>fmt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classglmesh_1_1_stream_buffer.html">StreamBuffer</a> &amp;&#160;</td>
          <td class="paramname"><em>buffer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Creates a non-copyable object for drawing. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">primType</td><td>The OpenGL primitive type to render. </td></tr>
    <tr><td class="paramname">vertexCount</td><td>The number of vertices you will provide. This must work with <em>primType</em> or an exception is thrown. </td></tr>
    <tr><td class="paramname">fmt</td><td>The format of the attributes in each vertex. Taken by reference; do not destroy this before this object is destroyed. </td></tr>
    <tr><td class="paramname">buffer</td><td>The streaming buffer that will be used to store the vertex data. Taken by reference; do not destroy this before this object is destroyed.</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classglmesh_1_1_primitive_type_unsupported_exception.html" title="Thrown when creating a Draw with a primitive type that the current OpenGL implementation does not sup...">PrimitiveTypeUnsupportedException</a></td><td>If <em>primType</em> is not supported on the OpenGL implementation. </td></tr>
    <tr><td class="paramname"><a class="el" href="classglmesh_1_1_vertex_count_prim_mismatch_exception.html" title="Thrown when the primitive type and vertex count cannot be used together.">VertexCountPrimMismatchException</a></td><td>If <em>vertexCount</em> does not match <em>primType's</em> requirements. </td></tr>
    <tr><td class="paramname"><a class="el" href="classglmesh_1_1_stream_buffer_1_1_map.html" title="A RAII-style class for mapping a StreamBuffer.">StreamBuffer::Map</a></td><td>Anything that this class throws, except for <a class="el" href="classglmesh_1_1_not_enough_remaining_storage_for_map_exception.html" title="Thrown when mapping a StreamBuffer and the current offset + range would exceed the size of the Stream...">NotEnoughRemainingStorageForMapException</a>.</td></tr>
  </table>
  </dd>
</dl>
<p>In the event of any exceptions, nothing is mapped and the <a class="el" href="classglmesh_1_1_stream_buffer.html" title="A class for streaming vertex data to buffer objects on the GPU.">StreamBuffer</a> is not touched. </p>

</div>
</div>
<a class="anchor" id="af9114783860b587f4ac00fb84d280207"></a><!-- doxytag: member="glmesh::Draw::~Draw" ref="af9114783860b587f4ac00fb84d280207" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">glmesh::Draw::~Draw </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Draws, if the object has not been drawn previously with a call to <a class="el" href="classglmesh_1_1_draw.html#a473bcd5d403bb8af0449163f037ce538" title="Draws the vertex data provided, if the object has not previously been drawn.">Render()</a>. </p>
<p>Unlike Render, this does not throw exceptions, since throwing exceptions in a destructor is bad. By letting this fall off the stack without an explicit render, you are effectively saying that you don't care to error check.</p>
<p>Therefore, if not enough vertices have been provided, then nothing will be rendered. </p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a473bcd5d403bb8af0449163f037ce538"></a><!-- doxytag: member="glmesh::Draw::Render" ref="a473bcd5d403bb8af0449163f037ce538" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool glmesh::Draw::Render </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Draws the vertex data provided, if the object has not previously been drawn. </p>
<p>You can only call this after calling the Attrib functions enough times to provide a full set of attribute data for all vertices, as specified by <em>vertexCount</em> in the constructor.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>true if the vertex data was rendered. False if Render has already been called or if the unmapping of the buffer failed. In both cases, nothing is rendered.</dd></dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classglmesh_1_1_too_few_vertices_sent_exception.html" title="Thrown when drawing with Draw and you did not provide as many vertices as promised.">TooFewVerticesSentException</a></td><td>If you have not provided all of the vertices promised by the vertex count. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>C:/Projects/distro/glsdk_0.4.4/glmesh/include/glmesh/<a class="el" href="_draw_8h_source.html">Draw.h</a></li>
</ul>
</div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address class="footer"><small>Generated on Wed Aug 15 2012 03:17:43 for Unofficial OpenGL Software Development Kit by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.4 </small></address>
</body>
</html>
